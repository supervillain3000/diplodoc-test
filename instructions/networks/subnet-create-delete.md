---
title: Создание и удаление подсети
description: Описание создания и удаления подсети
---

# Создание и удаление подсети

## Создание подсети

### Панель управления

---

1. Перейдите в [панель управления PS Cloud](https://console.ps.kz/) и выберите услугу **Облачные серверы**.
2. Выберите название необходимого проекта и перейдите в раздел **Сети**.
3. Нажмите на имя сети, в которой необходимо создать подсеть и перейдите в раздел **Подсети**.
4. Нажмите кнопку **Создать**
5. Задайте параметры для подсети:
   - Подсеть
   - Пул адресов, которые будут доступны для создания портов в подсети. Например: `192.168.0.2`, `192.168.0.254`. В данном случае для создания портов будут доступны IP-адреса в диапазоне `192.168.0.2 - 192.168.0.254`.
   - Серверы DNS. По умолчанию указаны DNS PS.kz.
   - Маршруты, если необходимо указать статические маршруты к другим сетям.
   - DHCP. Автоматическое выделение IP-адресов при создании ВМ. По умолчанию включено.

### OpenStack CLI

---

1. Выполните [установку](/), если OpenStack CLI не установлен и пройдите [аутентификацию](/) в проекте.
2. Создайте посеть:

```
openstack subnet create <name>
```

Где:

- `<name>` - название подсети.

3.  В созданную сеть добавьте подсеть:

```
openstack subnet create \
    --subnet-range <cidr> \
    [--dhcp  | --no-dhcp] \
    --gateway <gateway> \
    --dns-nameserver <dns_server> \
    --network <network> \
    <subnet_name>
```

Где:

- `<cidr>` - подсеть.
- `--dhcp` - включить DHCP
- `--no-dhcp` - выключить DHCP
- `--gateway` - IP-адрес шлюза.
- `--dns-nameserver` - cерверы DNS. По умолчанию указаны DNS PS.kz.
- `<network>` - имя или ID сети.
- `<name>` - название подсети

## Удаление подсети

> [! note] Если в подсети созданы порты, то удалить сеть будет нельзя. Необходимо [удалить порты](/) перед удалением сети.

### Панель управления

---

1. Перейдите в [панель управления PS Cloud](https://console.ps.kz/) и выберите услугу **Облачные серверы**.
2. Выберите название необходимого проекта и перейдите в раздел **Сети**.
3. Нажмите на имя сети, в которой необходимо удалить подсеть и перейдите в раздел **Подсети**.
4. Выберите подсеть, откройте контекстное меню `...` и нажмите кнопку **Удалить**.

### OpenStack CLI

---

1. Выполните [установку](/), если OpenStack CLI не установлен и пройдите [аутентификацию](/) в проекте.
2. Получите список сетей:

```
openstack subnet list
```

3. Удалите сеть:

```
openstack subnet delete <subnet>
```

Где:

- `<subnet>` - имя или ID сети.

### Terraform

```hcl
resource "openstack_networking_network_v2" "network_1" {
  name           = "<network_name>"
  admin_state_up = "true"
}

resource "openstack_networking_subnet_v2" "subnet_1" {
  network_id = openstack_networking_network_v2.network_1.id
  cidr       = "<cidr>"
}
```

Где:

- `<network_name>` - имя сети.
- `<cidr>` - CIDR подсети, например `192.168.0.0/24`
