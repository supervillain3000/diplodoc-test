---
title: Создать проверку состяния
description: Описание создания проверки состяния
---

# Создать проверку состяния

Обеспечивает проверку доступности и работоспособности членов пула. Это помогает балансировщику нагрузки перенаправлять трафик только к тем серверам, которые работают корректно.

## Панель управления

1. Перейдите в [панель управления](https://auth.ps.kz/?required_keys=uid&redirect_uri=https://console.ps.kz/account) PS Cloud и в блоке **ресурсы облака** нажмите на **создать** в ресурсе **количество балансировщиков**

> Если у Вас еще нет балансировщиков Вы можете создать его при помощи [инструкции](ru/network/lbaas/create-loadbalancer)

2. Перейдите управление балансировщиком, нажав на название Вашего балансировщика.

3. Перейдите в раздел `проверка состояния`, нажмите `добавить`
4. Укажите параметры:
   - `целевая группа` - имя [пула](/), который был создан в предыдущем пункте.
   - `тип проверки` - укажите протокол для проверки состояния
   - `интервал` - указывает интервал в секундах между проверками состояния членов пула.
   - `количество попыток` - Указывает максимальное количество неудачных проверок, после которых член пула считается неработоспособным.
   - `таймаут` - Указывает максимальное время в секундах, которое монитор будет ожидать ответа от члена пула.

## OpenStack CLI

Создатть проверку состяния можно при помощи следующей команды:

```
openstack loadbalancer healthmonitor create \
--delay <delay> \
--max-retries <max_retries> \
--timeout <timeout> \
--type <protocol_name> \
<pool_name>
```

Где:

`delay` - Указывает интервал в секундах между проверками состояния членов пула.
`max_retries` - Указывает максимальное количество неудачных проверок, после которых член пула считается неработоспособным.
`timeout` - Указывает максимальное время в секундах, которое монитор будет ожидать ответа от члена пула.
`protocol_name` - Укажите протокол, который будет использоваться для проверки состояния. Например, `HTTP`.
`pool_name `- Указывает имя или ID пула, к которому привязан монитор состояния.
