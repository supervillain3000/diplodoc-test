---
title: Создание listener
description: Описание создания listener
---

# Создание listener

**Listener** - правило балансировки - управляет тем, как трафик направляется к бэкэнд-серверам .

Возможные протоколы балансировки:

| протокол             | описание                                                                                                                                                                    | применение                                                                                                                                                                                    |
| -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **HTTP**             | Балансировка нагрузки осуществляется на основе информации HTTP-запросов, таких как URL, заголовки, методы запросов и т.д.                                                   | Подходит для веб-сервисов и HTTP-приложений.                                                                                                                                                  |
| **HTTPS**            | Аналогично HTTP, но работает с зашифрованным трафиком HTTPS, требуя дополнительных действий по управлению SSL/TLS-сертификатами.                                            | Используется для защищенной передачи данных по сети.                                                                                                                                          |
| **TERMINATED_HTTPS** | Балансировка нагрузки HTTPS с терминированием SSL/TLS на уровне балансировщика, который расшифровывает трафик HTTPS и пересылает его в расшифрованном виде бэкэнд-серверам. | Обеспечивает безопасную передачу данных и разгрузку бэкэнд-серверов от работы с SSL/TLS-соединениями.                                                                                         |
| **TCP**              | без анализа содержимого трафика.                                                                                                                                            | Подходит для приложений, использующих протоколы на основе TCP, такие как FTP, SMTP и другие.                                                                                                  |
| **UDP**              | соединения не устанавливаются, и пакеты передаются без подтверждения доставки.                                                                                              | Используется для приложений, где важна скорость и доставка пакетов, например, потоковое видео, голосовые вызовы и игры.                                                                       |
| **SCTP**             | обеспечивает надежную передачу данных и поддерживает множество потоков                                                                                                      | может использоваться для передачи различных типов данных, включая потоковое аудио/видео, голосовую связь, телеметрию и другие приложения, где важна надежность и передача в реальном времени. |

## Панель управления

1. Перейдите в [панель управления](https://auth.ps.kz/?required_keys=uid&redirect_uri=https://console.ps.kz/account) PS Cloud и в блоке **Ресурсы облака** нажмите на **1 балансировщик** в ресурсе **количество балансировщиков**

> Если у Вас еще нет балансировщиков Вы можете создать его при помощи [инструкции](ru/network/lbaas/create-loadbalancer)

2. Перейдите управление балансировщиком, нажав на название Вашего балансировщика.

3. Перейдите в раздел `обработчик`, нажмите `добавить` и укажте параметры:

- `имя` - Название правила
- `протокол балансировки`- нужный Вам протокол
- `порт` - определяет конечный порт, на котором балансировщик нагрузки принимает входящие соединения и который используется для маршрутизации трафика к бэкэнд-серверам.

## OpenStack CLI

---

1.  Выполните [установку](/ru/compute/instructions/compute-nova/instance-management) и пройдите [аутентификацию](ru/compute/instructions/compute-nova/instance-management) в проекте.
2.  Также дополнительно необходимо установить компонент OCtavia:

    `pip3 install python-octaviaclient`

3.  **Создайте балансировщик** при помощи следующей [инструкции](ru/network/lbaas/create-loadbalancer)

4.  Создайте правило для балансировщика.

Здесь будет создан новый обработчик, который будет принимать входящий трафик на указанном порту и передавать его в пул серверов для распределения.

```
openstack loadbalancer listener create \
  --name <listener_name> \
  --protocol <protocol> \
  --protocol-port <protocol_port> \
  <loadbalancer>
```

Где:

- `name` - задайте название для слушателя. В консоле управления оно будет отображено во вкладке **обработчик**.
- `protocol` - указывает протокол, который будет использоваться для слушателя. Возможные значения: {TCP,HTTP,HTTPS,TERMINATED_HTTPS,UDP,SCTP,PROMETHEUS}
- `protocol_port` - Указывает порт, на котором слушатель будет принимать входящий трафик. Например, порт `80` для HTTP или `443` для HTTPS.
- `loadbalancer` - название или ID балансировщика, который был создан ранее.
